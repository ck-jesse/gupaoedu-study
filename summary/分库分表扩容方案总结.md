

# 1、双写迁移法(水平扩容表)

同步双写/异步双写

```
1、修改应用配置和代码，增加双写，上线部署；
2、将老库中的数据复制到新库中；
3、以老库为准校对新库中的老数据；
4、修改应用配置和代码，去掉双写，上线部署；
```



![扩容双写](img\扩容-双写.png)



# 2、升级从库法(水平扩容库)

注：扩容是成倍的。

![扩容-升级从库](img\扩容-升级从库.png)



# 3、分组法（分区+hash）

定义group组，每个group组下存放一个区间的数据，然后group下再进行hash，保证数据均匀分布。

扩容时，只需要增加一个新的group组即可，可以保证在无数据迁移的情况进行扩容。