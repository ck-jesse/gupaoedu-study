## 架构设计目标
1、明确系统边界
> 确定系统在技术层面上的做与不做。

2、确定系统内模块之间的关系
> 确定模块之间的依赖关系及模块的宏观输入与输出。

3、确定指导后续设计和演化的原则
> 使后续的子系统或模块设计在一个既定的框架内和技术方向上继续演化。

4、确定非功能性需求
> 非功能性需求是指安全性、可用性、可扩展性等。

## 设计原则
> 1、单一职责原则：应该有且只有一个原因引起类的改变，即一个类只负责一个职责。
>
> 优点：如果类与方法的职责划分的很清晰，不但可以提高代码的可读性，更实际性地更降低了程序出错的风险，因为清晰的代码会让bug无处藏身，也有利于bug的追踪，也就是降低了程序的维护成本。
>
> 2、开闭原则：对扩展开放，对修改关闭
> 
> 优点：开闭原则的优点在于可以在不改动原有代码的前提下给程序扩展功能。增加了程序的可扩展性，同时也降低了程序的维护成本。
>
> 3、依赖倒置原则：依赖抽象而不是依赖实现。抽象不应该依赖细节，细节应该依赖抽象。
>
> 优点：通过抽象来搭建框架，建立类和类的关联，以减少类间的耦合性。而且以抽象搭建的系统要比以具体实现搭建的系统更加稳定，扩展性更高，同时也便于维护。
>
> 4、接口隔离原则：多个特定的接口要好于一个通用性的总接口。
>
> 优点：避免同一个接口里面包含不同类职责的方法，接口责任划分更加明确，符合高内聚低耦合的思想。
>
> 5、里氏替换原则：所有引用基类的地方必须能透明地使用其子类的对象，也就是说子类对象可以替换其父类对象，而程序执行效果不变。
>
> 优点：可以检验继承使用的正确性，约束继承在使用上的泛滥。 
>
> 6、迪米特法则：迪米特法则也叫做最少知道原则。一个对象应该对尽可能少的对象有接触，也就是只接触那些真正需要接触的对象。
>
> 优点：实践迪米特法则可以良好地降低类与类之间的耦合，减少类与类之间的关联程度，让类与类之间的协作更加直接。
>

## 实现目标
> 聚集力量把关键技术做深做厚，避免低水平重复建设。
> 对整个公司的基础能力建设有了比较大的提升，对前端的业务的响应速度各方面快了很多。
> 中台的建设思路，对系统架构提出了更高的要求。必须对系统进行重新设计，实现「业务逻辑和平台逻辑分离，不同业务之间的逻辑隔离」。
> 大道至简。
>
> 术：不同业务场景
>
> 道：不变的东西，通过问题看到本质
>
> 先技术深度，再技术广度；技术视野。
>
> 提升认知

## 中台建设需考虑的问题
1、稳定性提升
> 使用中台更稳定，那么系统可用率从现在多少提升到多少？

2、研发效率提升
> 你说扩展性、平台能力复用，那么团队工作效率提升了几倍？人员投入减少多少？

3、业务协同性
> 期望业务侧提供一个衡量指标，因为协同的目标是为了更大的成单率。

4、用户体验提升
> 如何衡量用户体验提升？
>
> 从用户体验数据监测角度、客户服务咨询问题的角度来定义。

## 中台建设
```text
中台是一个基础的理念和架构，我们要把所有的基础服务用中台的思路建设，进行联通，共同支持上端的业务。
业务中台更多的是支持在线业务，数据中台提供了基础数据处理能力和很多的数据产品给所有业务方去用。
```

### 一、业务中台：
```text
用户中心
商品中心
商户中心
订单服务
支付服务(微信/支付宝/其他第三方支付)
订单结算服务
售后中心
客服中心
消息中心(短信/微信)
财务结算服务
```
### 二、技术中台：
- 服务化
    - 服务治理：
    > 微服务框架(SpringCloud/Dubbo/自研RPC通信框架)
    >
    > 注册中心(zookeeper/nacos/自研)
    >
    > 配置中心(apollo/nacos/自研)
    >
    > 熔断限流(ahas/sentinel/hystrix/自研)
	- 基础组件：
	>	common-dto 	 统一基础出入参数、统一异常、统一错误码
    >
	>	common-util	 常用工具类
    >
	>	log-access	 统一access日志、日志链路追踪
    >
	>	sl4bv		 统一参数验证
    >
	>	third-sdk	 统一第三方api接入
    >
	>	common-cache 分布式缓存组件，基于Guava Cache、Redis实现的通用二级缓存
	- 公共服务：
	>	分布式ID生成服务
    >
	>	分布式调度中心(xxl/自研)
    >
	>	分布式消息队列(rocketmq/kafka/扩展)
    >
	>	分布式事务服务
    >
	>	分布式锁服务
    >
	>	服务网关
    >
	>	开放平台
    >
	>	检索服务(es)
	- 数据存储：
	>	mysql 		Binlog自动同步kafka和es
    >
	>	分库分表	DRDS/ShardingJDBC/自研
- 中间件
	> 分布式文件存储(OSS)
    >
	> 分布式缓存(redis)
    >
	> 分布式数据库(DRDS)
    >
	> 分布式消息队列(rocketmq/kafka/扩展)
    >
	> 分布式检索(es)
    >
	> 分布式TSDB(opentsdb/Prometheus)
- 容器化
	- 容器平台：
		> Docker
        >
		> K8s 集群管理
	- 代码仓库：
		> Git 仓库
        >
		> Maven 仓库
        >
		> Gradle 仓库
	- 发布策略-持续交付平台
		> Jenkins 自动编译、打包、部署
        >
		> 阿里云云效-流水线(测试环境(dev)-灰度环境(master)-生产环境(master))
	- 环境治理
		> 测试环境 多套测试环境，多需求并行开发测试
        >
		> 生产环境 基于k8s滚动升级，动态扩缩容
- 质量管理
	> 自动化测试平台 全链路接口测试
    >
	> 自动化压测平台 全链路性能测试
- 监控预警
	> 物理资源监控
    >
	> ELK应用日志监控
    >
	> GC监控


### 三、数据中台：
- 数据建仓
	> 离线
    >
	> 实时
    >
- 数据应用
	> 用户画像
    >
	> 推荐平台 推荐算法、机器学习、数据挖掘
- 统一数据服务
	> 统一报表平台 固定指标查询、维度分析查询
    >
	> 统一查询平台 高级SQL查询
    >
	> 统一数据出口 
- 统一数据治理
	> 元数据管理 应用元数据、业务元数据、技术元数据、热点元数据
    >
	> 数据集成 统一数据标准、统一数据接入(服务端埋点、客服端埋点、工具组件接入)
- 大数据引擎
- 大数据平台
